# 「フォロー/フォロワー機能」を実装
参考リンク: https://web-camp.online/lesson/curriculums/301/contents/2528

## 要件
### コントローラ

- [] relationshipsコントローラを追加

- [] createアクションを追加

　用途：フォローを作成

- [] destroyアクションを追加

　用途：フォローを削除

- [] フォローする・外すボタンをクリックしたら元画面に遷移すること

### モデル

- [] relationshipモデルを作成

### ビュー

- [] サイドバーにフォロー数・フォロワー数を表示
- [] マイページ以外のサイドバーにフォローする・外すボタンを追加
- [] ユーザー一覧画面にフォロー数・フォロワー数・フォローする・外すボタンの設置
- [] フォロー・フォロワー一覧画面を作成すること

## relationshipsテーブルを作成
| カラム名       | データ型 | 説明                         |
|----------------|----------|------------------------------|
| `id`           | integer  | 主キー (PK)            |
| `follower_id`      | integer  | フォローするユーザのid     |
| `followed_id`| integer  | フォローされるユーザのid  |

```
rails g model Relationship follower_id:integer followed_id:integer
```
で作り、`rails db:migrate`でマイグレートする。スキーマを確認。

## アソシエーション
relationship.rb
```
class Relationship < ApplicationRecord
  belongs_to :follower, class_name: "User"
  belongs_to :followed, class_name: "User"
end
```
### class_name: の役割
- belongs_to で紐づける対象のモデル名を明示的に指定するオプション。
- 通常、belongs_to :◯◯ と書くと、Railsは ◯◯.rb モデルファイルを探しにいく。
- でも、参照したいモデル名とアソシエーション名が違うとき、class_name: を使って教えてあげる。

これにより、followerとfollowedはUserモデルのインスタンスとして扱われ、正しくusersテーブルを参照する。